{
  "$schema": "https://raw.githubusercontent.com/devcontainers/spec/refs/heads/main/schemas/devContainer.schema.json",
  "name": "gin-rummy-scoreboard",
  "runArgs": ["--name", "gin-rummy-scoreboard-${devcontainerId}"],
  "mounts": [
    "type=volume,target=${containerWorkspaceFolder}/node_modules,source=gin-rummy-scoreboard-node-modules",
    "type=volume,target=/home/ubuntu/.cache/pnpm,source=pnpm-store",
    "type=volume,target=/home/ubuntu/.cache/ms-playwright,source=playwright-cache"
  ],
  "postCreateCommand": "sudo chown -Rf ubuntu node_modules /home/ubuntu/.cache/pnpm /home/ubuntu/.cache/ms-playwright && if test -f package.json; then pnpm install --frozen-lockfile && pnpm playwright install chromium --with-deps; fi",
  "build": {
    "dockerfile": "Dockerfile",
    "cacheFrom": "type=registry,ref=ghcr.io/dhhyi/gin-rummy-scoreboard-devcontainer-cache"
  },
  "forwardPorts": [5173],
  "customizations": {
    "vscode": {
      "settings": {
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "emmet.includeLanguages": {
          "vue": "html",
          "vue-html": "html"
        },
        "files.exclude": {
          ".devcontainer": true,
          ".update_devcontainer.sh": true
        },
        "terminal.integrated.defaultProfile.linux": "tmux",
        "terminal.integrated.profiles.linux": {
          "tmux": {
            "path": "/tmux-or-else.sh"
          }
        }
      },
      "extensions": [
        "Vue.volar",
        "esbenp.prettier-vscode",
        "bradlc.vscode-tailwindcss",
        "streetsidesoftware.code-spell-checker",
        "bierner.markdown-preview-github-styles",
        "bierner.markdown-mermaid",
        "github.vscode-github-actions",
        "yzhang.markdown-all-in-one",
        "redhat.vscode-yaml",
        "aaron-bond.better-comments",
        "peakchen90.open-html-in-browser",
        "AntiAntiSepticeye.vscode-color-picker",
        "ms-playwright.playwright"
      ]
    }
  },
  "containerEnv": {
    "DCC_BINARY": "",
    "DCC_REPL": "",
    "DCC_SELFTEST": "c3ZnMnBuZwo=",
    "DCC_VERSION": "java -version; node --version; pnpm --version"
  }
}
